<script>
/** @type {string | null}  */
export let src = null;

/** @type {string}  */
export let name;

/** @type {import('../index').MSizeAvatars } */
export let size = 'l';

/**
 * Convert a name to initials
 *
 * @param {string} name the first number
 * @returns {string} the sum of the two numbers
 */
function initialName(name) {
	return name
		.replace(/\b(\w)\w+/g, '$1')
		.replace(/\s/g, '')
		.replace(/\.$/, '')
		.toUpperCase();
}
</script>

<div class={`m-avatar is-size-${size}`}>
	{#if src}
		<img class="m-avatar-img" {src} alt={name} />
	{:else}
		<div class="m-avatar-fallback">{initialName(name)}</div>
	{/if}
</div>
